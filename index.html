<!DOCTYPE html>
<!-- Coding By CodingNepal - youtube.com/codingnepal -->
<html lang="en" dir="ltr">

<head>
    <meta charset="utf-8">
    <title>Facebook Post Box Clone | CodingNepal</title>
    <link rel="stylesheet" href="style.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- FontAweome CDN Link for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" />
</head>

<body>
    <div class="container">
        <div class="wrapper">
            <section class="post">
                <header>Create Post</header>
                <form action="#" class="postform">
                    <div class="content">
                        <img src="icons/Logo.png" alt="logo">
                        <div class="details">
                            <p>Posting</p>
                            <div class="privacy">
                                <i class="fas fa-user-friends"></i>
                                <span>Friends</span>
                                <i class="fas fa-caret-down"></i>
                            </div>
                        </div>
                    </div>
                    <textarea placeholder="What's on your mind, CodingNepal?" class="postcontent" spellcheck="false" required></textarea>
                    <div class="theme-emoji">
                        <img src="icons/theme.svg" alt="theme">
                        <img src="icons/smile.svg" alt="smile">
                    </div>
                    <div class="options">
                        <p>Add to Your Post</p>
                        <ul class="list">
                            <li type="file" class="getimage" onclick="selectImage()"><img src="icons/gallery.svg"
                                    alt="gallery"></li>
                            <li><img src="icons/tag.svg" alt="gallery"></li>
                            <li><img src="icons/emoji.svg" alt="gallery"></li>
                            <li><img src="icons/mic.svg" alt="gallery"></li>
                            <li><img src="icons/more.svg" alt="gallery"></li>
                        </ul>
                    </div>
                    <button class="postbtn">Post</button>
                </form>
            </section>


            <section class="audience">
                <header>
                    <div class="arrow-back"><i class="fas fa-arrow-left"></i></div>
                    <p>Select Audience</p>
                </header>
                <div class="content">
                    <p>Who can see your post?</p>
                    <span>Your post will show up in News Feed, on your profile and in search results.</span>
                </div>
                <ul class="list">
                    <li>
                        <div class="column">
                            <div class="icon"><i class="fas fa-globe-asia"></i></div>
                            <div class="details">
                                <p>Public</p>
                                <span>Anyone on or off Facebook</span>
                            </div>
                        </div>
                        <div class="radio"></div>
                    </li>
                    <li class="active">
                        <div class="column">
                            <div class="icon"><i class="fas fa-user-friends"></i></div>
                            <div class="details">
                                <p>Friends</p>
                                <span>Your friends on Facebook</span>
                            </div>
                        </div>
                        <div class="radio"></div>
                    </li>
                    <li>
                        <div class="column">
                            <div class="icon"><i class="fas fa-user"></i></div>
                            <div class="details">
                                <p>Specific</p>
                                <span>Only show to some friends</span>
                            </div>
                        </div>
                        <div class="radio"></div>
                    </li>
                    <li>
                        <div class="column">
                            <div class="icon"><i class="fas fa-lock"></i></div>
                            <div class="details">
                                <p>Only me</p>
                                <span>Only you can see your post</span>
                            </div>
                        </div>
                        <div class="radio"></div>
                    </li>
                    <li>
                        <div class="column">
                            <div class="icon"><i class="fas fa-cog"></i></div>
                            <div class="details">
                                <p>Custom</p>
                                <span>Include and exclude friends</span>
                            </div>
                        </div>
                        <div class="radio"></div>
                    </li>
                </ul>
            </section>
        </div>
        <section>
            <div class="newpostcontenthere"></div>
        </section>
    </div>
    <style>
        .newpostcontenthere {
            padding: 20px;
            margin-left: auto;
            margin-right: auto;
            width: 800px;
            display: none;
        }

        .newpostcontent {
            margin-bottom: 20px;
            padding: 20px;
            background-color: #fff;
            border-radius: 5px;
        }
        .newpostcontent h5{
            margin-bottom: 20px;
        }
        .newpostcontent img{
            width: 100%;
            max-height: 600px;
        }
    </style>
    <script>
        let input;

        function selectImage() {
            input = document.createElement('input');
            input.type = 'file';

            input.click();

            input.addEventListener('change', function() {
                var file = input.files[0];
                if (file) {
                    var reader = new FileReader();
                    // reader.onload = function(e) {
                    //     var img = document.createElement('img');
                    //     img.src = e.target.result;
                    //     document.body.appendChild(img); // Append the image to the document body
                    // };
                    reader.readAsDataURL(file);
                }
            });
        }

        const container = document.querySelector(".container"),
            privacy = container.querySelector(".post .privacy"),
            arrowBack = container.querySelector(".audience .arrow-back");

        privacy.addEventListener("click", () => {
            container.classList.add("active");
        });

        arrowBack.addEventListener("click", () => {
            container.classList.remove("active");
        });

        let postbtn = document.querySelector('.postbtn');
        let postcontent = document.querySelector('.postcontent');
        let newpostcontenthere = document.querySelector('.newpostcontenthere');

        postbtn.onclick = () => {
            let newpost = document.createElement('div');
            newpost.setAttribute('class', 'newpostcontent');

            let textContent = document.createElement('h5');
            textContent.textContent = postcontent.value;
            newpost.appendChild(textContent);


            if (input && input.files && input.files[0]) {
                var img = document.createElement('img');

                var reader = new FileReader();
                console.log(reader)
                reader.onload = function(e) {
                    img.src = e.target.result;
                    newpost.appendChild(img);
                    console.log(e)
                };

                reader.readAsDataURL(input.files[0]);
            }

            newpostcontenthere.style.display = 'block';


            newpostcontenthere.appendChild(newpost);

            console.log(newpost);
        }
    </script>

</body>

</html>
